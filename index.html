<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript" src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script type="text/javascript">
        miro.onReady(() => {
            miro.initialize({
                extensionPoints: {
                    bottomBar: {
                        title: 'Roll the dice',
                        svgIcon: '<svg viewBox="0 0 100 100"><polygon points="42,1 42,20 4,21 "  /><polygon points="45,1 45,20 84,21 "  /><polygon points="1,26 18,65 40,24 "  /><polygon points="42,24 20,67 72,67 "  /><polygon points="47,24 87,27 69,64"  /><polygon points="1,34 1,72, 17,68"  /><polygon points="72,68 87,32 87,75 "  /><polygon points="4,76 18,70 30,93 "  /><polygon points="22,69,45,100, 66,69 "  /><polygon points="70,70,50,95,85,76 "  /><text x="32" y="60" >20</text></svg>',
                        onClick: () => {
                            createCard();
                        }
                    }
                }
            })
        })

        async function createCard() {
            let scale = await miro.board.viewport.getScale();
            let vp = await miro.board.viewport.get();
            let sticker = await miro.board.widgets.create({
                type: 'sticker',
                text: 'D20 - ' + scale,
                x: vp.x +vp.width / 2,
                y: vp.y + vp.height / 2,
                scale: 1/scale
            });
        }
    </script>
</head>
</html>
